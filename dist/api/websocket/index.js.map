{"version":3,"file":"index.js","names":["router","express","Router","websocketApi","wsServer","post","request","response","clients","forEach","ws","send","JSON","stringify","body","status","close"],"sources":["../../../lib/api/websocket/index.js"],"sourcesContent":["import express from 'express';\n\nconst router = express.Router({});\n\nexport const websocketApi = (wsServer) => {\n  router.post('/websocket/clients/message', (request, response) => {\n    wsServer.clients.forEach((ws) => {\n      ws.send(JSON.stringify(request.body));\n    });\n\n    response.send({\n      status: true,\n    });\n  });\n\n  router.post('/websocket/clients/disconnect', (request, response) => {\n    wsServer.clients.forEach((ws) => {\n      ws.close();\n    });\n\n    response.send({\n      status: true,\n    });\n  });\n\n  return router;\n};\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,CAAe,EAAf,CAAf;;AAEO,MAAMC,YAAY,GAAIC,QAAD,IAAc;EACxCJ,MAAM,CAACK,IAAP,CAAY,4BAAZ,EAA0C,CAACC,OAAD,EAAUC,QAAV,KAAuB;IAC/DH,QAAQ,CAACI,OAAT,CAAiBC,OAAjB,CAA0BC,EAAD,IAAQ;MAC/BA,EAAE,CAACC,IAAH,CAAQC,IAAI,CAACC,SAAL,CAAeP,OAAO,CAACQ,IAAvB,CAAR;IACD,CAFD;IAIAP,QAAQ,CAACI,IAAT,CAAc;MACZI,MAAM,EAAE;IADI,CAAd;EAGD,CARD;EAUAf,MAAM,CAACK,IAAP,CAAY,+BAAZ,EAA6C,CAACC,OAAD,EAAUC,QAAV,KAAuB;IAClEH,QAAQ,CAACI,OAAT,CAAiBC,OAAjB,CAA0BC,EAAD,IAAQ;MAC/BA,EAAE,CAACM,KAAH;IACD,CAFD;IAIAT,QAAQ,CAACI,IAAT,CAAc;MACZI,MAAM,EAAE;IADI,CAAd;EAGD,CARD;EAUA,OAAOf,MAAP;AACD,CAtBM"}