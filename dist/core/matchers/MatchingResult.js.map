{"version":3,"file":"MatchingResult.js","names":["MATCH_TYPE","STRICT","SUBSET","DEFAULT","NO","MatchingResult","constructor","type","countOfMatches","countOfMatchesUnspecific","count","countUnspecific","isDefault","isStrict","isNo","isSubset","compare","other","print","toPrint","console","log","bgBlue","white","MATCH_NO","MATCH_STRICT","MATCH_DEFAULT"],"sources":["../../../lib/core/matchers/MatchingResult.js"],"sourcesContent":["export const MATCH_TYPE = {\n  STRICT: 'strict',\n  SUBSET: 'subset', //  some QS match\n  DEFAULT: 'default', //  request have QS but bundle doesnt\n  NO: 'no',\n};\n\n/**\n *\n */\nclass MatchingResult {\n  constructor(type, countOfMatches = null, countOfMatchesUnspecific = null) {\n    this.type = type;\n    this.count = countOfMatches;\n    this.countUnspecific = countOfMatchesUnspecific;\n  }\n\n  isDefault() {\n    return this.type === MATCH_TYPE.DEFAULT;\n  }\n  isStrict() {\n    return this.type === MATCH_TYPE.STRICT;\n  }\n  isNo() {\n    return this.type === MATCH_TYPE.NO;\n  }\n  isSubset() {\n    return this.type === MATCH_TYPE.SUBSET;\n  }\n\n  /**\n   *            STRICT SUBSET DEFAULT NO\n   *  STRICT      0      1      1      1\n   *  SUBSET      -1     c      1      1\n   *  DEFAULT     -1     -1     0      1\n   *  NO          -1     -1     -1     0\n   *  @param {MatchingResult} other\n   *  @return {number}\n   */\n  compare(other) {\n    if (other.type === this.type) {\n      if (this.isSubset()) {\n        if (this.count === other.count) {\n          return this.countUnspecific - other.countUnspecific;\n        } else {\n          return this.count - other.count;\n        }\n      } else {\n        return 0;\n      }\n    } else {\n      if (this.isStrict()) return 1;\n      if (other.isStrict()) return -1;\n      if (this.isNo()) return -1;\n      if (other.isNo()) return 1;\n      if (this.isSubset() && other.isDefault()) return 1;\n      if (this.isDefault() && other.isSubset()) return -1;\n    }\n  }\n\n  /**\n   *  Just develop tool\n   */\n  print() {\n    let toPrint = 'MatchingResult type: ' + this.type;\n    if (this.count !== null) {\n      toPrint += ', counts: ' + this.count;\n    }\n    if (this.countUnspecific !== null) {\n      toPrint += ', countUnspecific: ' + this.countUnspecific;\n    }\n    console.log(toPrint.bgBlue.white);\n  }\n}\n\nexport const MATCH_NO = new MatchingResult(MATCH_TYPE.NO);\nexport const MATCH_STRICT = new MatchingResult(MATCH_TYPE.STRICT);\nexport const MATCH_DEFAULT = new MatchingResult(MATCH_TYPE.DEFAULT);\n\nexport default MatchingResult;\n"],"mappings":";;;;;;AAAO,MAAMA,UAAU,GAAG;EACxBC,MAAM,EAAE,QADgB;EAExBC,MAAM,EAAE,QAFgB;EAEN;EAClBC,OAAO,EAAE,SAHe;EAGJ;EACpBC,EAAE,EAAE;AAJoB,CAAnB;AAOP;AACA;AACA;;;;AACA,MAAMC,cAAN,CAAqB;EACnBC,WAAW,CAACC,IAAD,EAAOC,cAAc,GAAG,IAAxB,EAA8BC,wBAAwB,GAAG,IAAzD,EAA+D;IACxE,KAAKF,IAAL,GAAYA,IAAZ;IACA,KAAKG,KAAL,GAAaF,cAAb;IACA,KAAKG,eAAL,GAAuBF,wBAAvB;EACD;;EAEDG,SAAS,GAAG;IACV,OAAO,KAAKL,IAAL,KAAcP,UAAU,CAACG,OAAhC;EACD;;EACDU,QAAQ,GAAG;IACT,OAAO,KAAKN,IAAL,KAAcP,UAAU,CAACC,MAAhC;EACD;;EACDa,IAAI,GAAG;IACL,OAAO,KAAKP,IAAL,KAAcP,UAAU,CAACI,EAAhC;EACD;;EACDW,QAAQ,GAAG;IACT,OAAO,KAAKR,IAAL,KAAcP,UAAU,CAACE,MAAhC;EACD;EAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EACEc,OAAO,CAACC,KAAD,EAAQ;IACb,IAAIA,KAAK,CAACV,IAAN,KAAe,KAAKA,IAAxB,EAA8B;MAC5B,IAAI,KAAKQ,QAAL,EAAJ,EAAqB;QACnB,IAAI,KAAKL,KAAL,KAAeO,KAAK,CAACP,KAAzB,EAAgC;UAC9B,OAAO,KAAKC,eAAL,GAAuBM,KAAK,CAACN,eAApC;QACD,CAFD,MAEO;UACL,OAAO,KAAKD,KAAL,GAAaO,KAAK,CAACP,KAA1B;QACD;MACF,CAND,MAMO;QACL,OAAO,CAAP;MACD;IACF,CAVD,MAUO;MACL,IAAI,KAAKG,QAAL,EAAJ,EAAqB,OAAO,CAAP;MACrB,IAAII,KAAK,CAACJ,QAAN,EAAJ,EAAsB,OAAO,CAAC,CAAR;MACtB,IAAI,KAAKC,IAAL,EAAJ,EAAiB,OAAO,CAAC,CAAR;MACjB,IAAIG,KAAK,CAACH,IAAN,EAAJ,EAAkB,OAAO,CAAP;MAClB,IAAI,KAAKC,QAAL,MAAmBE,KAAK,CAACL,SAAN,EAAvB,EAA0C,OAAO,CAAP;MAC1C,IAAI,KAAKA,SAAL,MAAoBK,KAAK,CAACF,QAAN,EAAxB,EAA0C,OAAO,CAAC,CAAR;IAC3C;EACF;EAED;AACF;AACA;;;EACEG,KAAK,GAAG;IACN,IAAIC,OAAO,GAAG,0BAA0B,KAAKZ,IAA7C;;IACA,IAAI,KAAKG,KAAL,KAAe,IAAnB,EAAyB;MACvBS,OAAO,IAAI,eAAe,KAAKT,KAA/B;IACD;;IACD,IAAI,KAAKC,eAAL,KAAyB,IAA7B,EAAmC;MACjCQ,OAAO,IAAI,wBAAwB,KAAKR,eAAxC;IACD;;IACDS,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACG,MAAR,CAAeC,KAA3B;EACD;;AA9DkB;;AAiEd,MAAMC,QAAQ,GAAG,IAAInB,cAAJ,CAAmBL,UAAU,CAACI,EAA9B,CAAjB;;AACA,MAAMqB,YAAY,GAAG,IAAIpB,cAAJ,CAAmBL,UAAU,CAACC,MAA9B,CAArB;;AACA,MAAMyB,aAAa,GAAG,IAAIrB,cAAJ,CAAmBL,UAAU,CAACG,OAA9B,CAAtB;;eAEQE,c"}